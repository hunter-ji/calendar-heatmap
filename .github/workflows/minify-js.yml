name: Minify JS and Commit to Main

on:
  push:
    branches:
    - main

jobs:
  minify:
    runs-on: ubuntu-latest
    steps:
    - name: check out the repository
      uses: actions/checkout@v4

    - name: auto minify files to a different directory
      uses: nizarmah/auto-minify@v3
      with:
        output: 'dist'

    - name: auto commit the minified files
      uses: stefanzweifel/git-auto-commit-action@v5
      with:
        commit_message: "bot: Add auto minified files"
